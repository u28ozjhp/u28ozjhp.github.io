import{s as Rt,n as rt,j as pt,o as Gt,t as Kt,b as Mt,d as St}from"../chunks/scheduler.212c71d7.js";import{S as Pt,i as Ot,g as _,s as D,m as B,h as p,j as k,c as V,n as F,f,k as b,a as C,B as i,H as Nt,y as Qt,I as Yt,o as z,e as Bt,J as Wt,t as nt,b as Xt,d as ot,p as Zt,z as Ft,r as Tt,x as O,u as Et,v as wt,w as Dt,A as vt}from"../chunks/index.5fdc0ad9.js";import{m as $t,y as te,d as ee,h as le}from"../chunks/store.a425e42c.js";import{S as ae}from"../chunks/Spinner.854c52f8.js";const A=s=>parseFloat(s.toFixed(2));function se(s){let t,e,l,a,r,u,c;return{c(){t=_("div"),e=_("input"),l=D(),a=_("label"),r=B(s[1]),this.h()},l(o){t=p(o,"DIV",{class:!0});var n=k(t);e=p(n,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),l=V(n),a=p(n,"LABEL",{class:!0,for:!0});var d=k(a);r=F(d,s[1]),d.forEach(f),n.forEach(f),this.h()},h(){b(e,"type","number"),b(e,"class","float-input svelte-34455m"),b(e,"id","kadou-total"),b(e,"placeholder","F"),b(a,"class","float-label svelte-34455m"),b(a,"for","kadou-total"),b(t,"class","float-container svelte-34455m")},m(o,n){C(o,t,n),i(t,e),Nt(e,s[0]),i(t,l),i(t,a),i(a,r),u||(c=Qt(e,"input",s[2]),u=!0)},p(o,[n]){n&1&&Yt(e.value)!==o[0]&&Nt(e,o[0]),n&2&&z(r,o[1])},i:rt,o:rt,d(o){o&&f(t),u=!1,c()}}}function re(s,t,e){let{value:l}=t,{label:a}=t;function r(){l=Yt(this.value),e(0,l)}return s.$$set=u=>{"value"in u&&e(0,l=u.value),"label"in u&&e(1,a=u.label)},[l,a,r]}class zt extends Pt{constructor(t){super(),Ot(this,t,re,se,Rt,{value:0,label:1})}}function ne(s){const t=s.slice(),e=t[14]?"目標達成済":"🎌目標達成済🎌";return t[19]=e,t}function oe(s){let t,e,l,a="目標AV",r,u,c,o,n,d,y,L,H,j,Y="必要な数字",S,w,q,R,E,m,h="現在値",P,I,g,x='<tr class="text-gray-600 text-base"><th class="font-normal p-1 border-r">基本P</th> <th class="font-normal p-1 border-r">売上</th> <th class="font-normal p-1 border-r">実AV</th> <th class="font-normal p-1">ハンデ付</th></tr>',bt,tt,M,W,et=A(s[7])+"",it,mt,X,lt=A(s[6])+"",ut,gt,Z,at=isNaN(s[8])?"-":`${s[8]}`,ct,kt,$,st=isNaN(s[9])?"-":`${s[9]}`,ft,J;function Jt(v){s[16](v)}let Vt={label:"実AV (%)"};s[0]!==void 0&&(Vt.value=s[0]),c=new zt({props:Vt}),Mt.push(()=>Ft(c,"value",Jt));function Ut(v){s[17](v)}let xt={label:"ハンデ付 (%)"};s[1]!==void 0&&(xt.value=s[1]),d=new zt({props:xt}),Mt.push(()=>Ft(d,"value",Ut));function Ct(v,T){return T&8192&&(w=null),T&28&&(q=null),w==null&&(w=!!v[13].some(ve)),w?ce:(q==null&&(q=!v[4].some(v[15])),q?ue:qt)}function yt(v,T){return T===qt?ne(v):v}let G=Ct(s,-1),N=G(yt(s,G));return{c(){t=_("div"),e=_("div"),l=_("div"),l.textContent=a,r=D(),u=_("div"),Tt(c.$$.fragment),n=D(),Tt(d.$$.fragment),L=D(),H=_("div"),j=_("div"),j.textContent=Y,S=D(),N.c(),R=D(),E=_("div"),m=_("div"),m.textContent=h,P=D(),I=_("table"),g=_("thead"),g.innerHTML=x,bt=D(),tt=_("tbody"),M=_("tr"),W=_("td"),it=B(et),mt=D(),X=_("td"),ut=B(lt),gt=D(),Z=_("td"),ct=B(at),kt=D(),$=_("td"),ft=B(st),this.h()},l(v){t=p(v,"DIV",{class:!0});var T=k(t);e=p(T,"DIV",{});var K=k(e);l=p(K,"DIV",{class:!0,"data-svelte-h":!0}),O(l)!=="svelte-1qsrsfl"&&(l.textContent=a),r=V(K),u=p(K,"DIV",{class:!0});var Q=k(u);Et(c.$$.fragment,Q),n=V(Q),Et(d.$$.fragment,Q),Q.forEach(f),K.forEach(f),L=V(T),H=p(T,"DIV",{});var dt=k(H);j=p(dt,"DIV",{class:!0,"data-svelte-h":!0}),O(j)!=="svelte-1ub33ip"&&(j.textContent=Y),S=V(dt),N.l(dt),dt.forEach(f),R=V(T),E=p(T,"DIV",{});var ht=k(E);m=p(ht,"DIV",{class:!0,"data-svelte-h":!0}),O(m)!=="svelte-evmobz"&&(m.textContent=h),P=V(ht),I=p(ht,"TABLE",{class:!0});var _t=k(I);g=p(_t,"THEAD",{"data-svelte-h":!0}),O(g)!=="svelte-68prf9"&&(g.innerHTML=x),bt=V(_t),tt=p(_t,"TBODY",{});var Lt=k(tt);M=p(Lt,"TR",{class:!0});var U=k(M);W=p(U,"TD",{class:!0});var Ht=k(W);it=F(Ht,et),Ht.forEach(f),mt=V(U),X=p(U,"TD",{class:!0});var It=k(X);ut=F(It,lt),It.forEach(f),gt=V(U),Z=p(U,"TD",{class:!0});var jt=k(Z);ct=F(jt,at),jt.forEach(f),kt=V(U),$=p(U,"TD",{class:!0});var At=k($);ft=F(At,st),At.forEach(f),U.forEach(f),Lt.forEach(f),_t.forEach(f),ht.forEach(f),T.forEach(f),this.h()},h(){b(l,"class","text-xl border-b w-full text-center p-1 mb-3"),b(u,"class","grid grid-cols-2 w-full gap-6 px-2"),b(j,"class","text-xl border-b w-full text-center p-1 mb-2"),b(m,"class","text-xl border-b w-full text-center p-1 mb-3"),b(W,"class","border-r"),b(X,"class","border-r"),b(Z,"class","border-r"),b($,"class",""),b(M,"class","text-gray-800"),b(I,"class","w-full table-fixed border-collapse text-center mb-6 text-lg"),b(t,"class","flex flex-col gap-6 mt-2")},m(v,T){C(v,t,T),i(t,e),i(e,l),i(e,r),i(e,u),wt(c,u,null),i(u,n),wt(d,u,null),i(t,L),i(t,H),i(H,j),i(H,S),N.m(H,null),i(t,R),i(t,E),i(E,m),i(E,P),i(E,I),i(I,g),i(I,bt),i(I,tt),i(tt,M),i(M,W),i(W,it),i(M,mt),i(M,X),i(X,ut),i(M,gt),i(M,Z),i(Z,ct),i(M,kt),i(M,$),i($,ft),J=!0},p(v,T){const K={};!o&&T&1&&(o=!0,K.value=v[0],St(()=>o=!1)),c.$set(K);const Q={};!y&&T&2&&(y=!0,Q.value=v[1],St(()=>y=!1)),d.$set(Q),G===(G=Ct(v,T))&&N?N.p(yt(v,G),T):(N.d(1),N=G(yt(v,G)),N&&(N.c(),N.m(H,null))),(!J||T&128)&&et!==(et=A(v[7])+"")&&z(it,et),(!J||T&64)&&lt!==(lt=A(v[6])+"")&&z(ut,lt),(!J||T&256)&&at!==(at=isNaN(v[8])?"-":`${v[8]}`)&&z(ct,at),(!J||T&512)&&st!==(st=isNaN(v[9])?"-":`${v[9]}`)&&z(ft,st)},i(v){J||(ot(c.$$.fragment,v),ot(d.$$.fragment,v),J=!0)},o(v){nt(c.$$.fragment,v),nt(d.$$.fragment,v),J=!1},d(v){v&&f(t),Dt(c),Dt(d),N.d()}}}function ie(s){let t,e,l;return e=new ae({}),{c(){t=_("div"),Tt(e.$$.fragment),this.h()},l(a){t=p(a,"DIV",{class:!0});var r=k(t);Et(e.$$.fragment,r),r.forEach(f),this.h()},h(){b(t,"class","my-10")},m(a,r){C(a,t,r),wt(e,t,null),l=!0},p:rt,i(a){l||(ot(e.$$.fragment,a),l=!0)},o(a){nt(e.$$.fragment,a),l=!1},d(a){a&&f(t),Dt(e)}}}function qt(s){let t,e,l='<tr class="text-gray-600 text-base"><th class="w-24"></th> <th class="font-normal p-1.5">合計</th> <th class="font-normal p-1.5">一日当たり</th></tr>',a,r,u,c,o="実AV",n,d,y,L,H="ハンデ付",j;function Y(m,h){return m[11]>0?de:fe}let S=Y(s),w=S(s);function q(m,h){return m[12]>0?_e:he}let R=q(s),E=R(s);return{c(){t=_("table"),e=_("thead"),e.innerHTML=l,a=D(),r=_("tbody"),u=_("tr"),c=_("td"),c.textContent=o,n=D(),w.c(),d=D(),y=_("tr"),L=_("td"),L.textContent=H,j=D(),E.c(),this.h()},l(m){t=p(m,"TABLE",{class:!0});var h=k(t);e=p(h,"THEAD",{"data-svelte-h":!0}),O(e)!=="svelte-14o08m8"&&(e.innerHTML=l),a=V(h),r=p(h,"TBODY",{});var P=k(r);u=p(P,"TR",{});var I=k(u);c=p(I,"TD",{class:!0,"data-svelte-h":!0}),O(c)!=="svelte-1sxrs1x"&&(c.textContent=o),n=V(I),w.l(I),I.forEach(f),d=V(P),y=p(P,"TR",{});var g=k(y);L=p(g,"TD",{class:!0,"data-svelte-h":!0}),O(L)!=="svelte-1oq4n2u"&&(L.textContent=H),j=V(g),E.l(g),g.forEach(f),P.forEach(f),h.forEach(f),this.h()},h(){b(c,"class","p-1.5 text-gray-600 text-base"),b(L,"class","p-1.5 text-gray-600 text-base"),b(t,"class","w-full table-fixed border-collapse text-center mb-6 text-gray-800 text-lg")},m(m,h){C(m,t,h),i(t,e),i(t,a),i(t,r),i(r,u),i(u,c),i(u,n),w.m(u,null),i(r,d),i(r,y),i(y,L),i(y,j),E.m(y,null)},p(m,h){S===(S=Y(m))&&w?w.p(m,h):(w.d(1),w=S(m),w&&(w.c(),w.m(u,null))),R===(R=q(m))&&E?E.p(m,h):(E.d(1),E=R(m),E&&(E.c(),E.m(y,null)))},d(m){m&&f(t),w.d(),E.d()}}}function ue(s){let t,e='<a href="/shift" class="flex items-center"><span class="mr-1">シフトを入力してください</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-up-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"></path><path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"></path></svg></a>';return{c(){t=_("div"),t.innerHTML=e,this.h()},l(l){t=p(l,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-yjsjq0"&&(t.innerHTML=e),this.h()},h(){b(t,"class","flex-center text-gray-400 p-4")},m(l,a){C(l,t,a)},p:rt,d(l){l&&f(t)}}}function ce(s){let t,e='<a href="/suji" class="flex items-center"><span class="mr-1">出勤日のノルマの入力を完了してください</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-up-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"></path><path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"></path></svg></a>';return{c(){t=_("div"),t.innerHTML=e,this.h()},l(l){t=p(l,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-1jqwamd"&&(t.innerHTML=e),this.h()},h(){b(t,"class","flex-center text-gray-400 p-4")},m(l,a){C(l,t,a)},p:rt,d(l){l&&f(t)}}}function fe(s){let t,e=s[19]+"",l;return{c(){t=_("td"),l=B(e),this.h()},l(a){t=p(a,"TD",{colspan:!0,class:!0});var r=k(t);l=F(r,e),r.forEach(f),this.h()},h(){b(t,"colspan","2"),b(t,"class","p-1.5"),vt(t,"text-gray-400",s[14])},m(a,r){C(a,t,r),i(t,l)},p(a,r){r&16384&&e!==(e=a[19]+"")&&z(l,e),r&16384&&vt(t,"text-gray-400",a[14])},d(a){a&&f(t)}}}function de(s){let t,e=A(s[11])+"",l,a,r,u=(s[10]?A(s[11]/s[10]):"-")+"",c;return{c(){t=_("td"),l=B(e),a=D(),r=_("td"),c=B(u),this.h()},l(o){t=p(o,"TD",{class:!0});var n=k(t);l=F(n,e),n.forEach(f),a=V(o),r=p(o,"TD",{class:!0});var d=k(r);c=F(d,u),d.forEach(f),this.h()},h(){b(t,"class","p-1.5"),b(r,"class","p-1.5")},m(o,n){C(o,t,n),i(t,l),C(o,a,n),C(o,r,n),i(r,c)},p(o,n){n&2048&&e!==(e=A(o[11])+"")&&z(l,e),n&3072&&u!==(u=(o[10]?A(o[11]/o[10]):"-")+"")&&z(c,u)},d(o){o&&(f(t),f(a),f(r))}}}function he(s){let t,e=s[19]+"",l;return{c(){t=_("td"),l=B(e),this.h()},l(a){t=p(a,"TD",{colspan:!0,class:!0});var r=k(t);l=F(r,e),r.forEach(f),this.h()},h(){b(t,"colspan","2"),b(t,"class","p-1.5"),vt(t,"text-gray-400",s[14])},m(a,r){C(a,t,r),i(t,l)},p(a,r){r&16384&&e!==(e=a[19]+"")&&z(l,e),r&16384&&vt(t,"text-gray-400",a[14])},d(a){a&&f(t)}}}function _e(s){let t,e=A(s[12])+"",l,a,r,u=(s[10]?A(s[12]/s[10]):"-")+"",c;return{c(){t=_("td"),l=B(e),a=D(),r=_("td"),c=B(u),this.h()},l(o){t=p(o,"TD",{class:!0});var n=k(t);l=F(n,e),n.forEach(f),a=V(o),r=p(o,"TD",{class:!0});var d=k(r);c=F(d,u),d.forEach(f),this.h()},h(){b(t,"class","p-1.5"),b(r,"class","p-1.5")},m(o,n){C(o,t,n),i(t,l),C(o,a,n),C(o,r,n),i(r,c)},p(o,n){n&4096&&e!==(e=A(o[12])+"")&&z(l,e),n&5120&&u!==(u=(o[10]?A(o[12]/o[10]):"-")+"")&&z(c,u)},d(o){o&&(f(t),f(a),f(r))}}}function pe(s){let t,e,l,a,r;const u=[ie,oe],c=[];function o(n,d){return n[5]?0:1}return e=o(s),l=c[e]=u[e](s),{c(){t=D(),l.c(),a=Bt(),this.h()},l(n){Wt("svelte-v7t2ax",document.head).forEach(f),t=V(n),l.l(n),a=Bt(),this.h()},h(){document.title="ダッシュボード"},m(n,d){C(n,t,d),c[e].m(n,d),C(n,a,d),r=!0},p(n,[d]){let y=e;e=o(n),e===y?c[e].p(n,d):(Zt(),nt(c[y],1,1,()=>{c[y]=null}),Xt(),l=c[e],l?l.p(n,d):(l=c[e]=u[e](n),l.c()),ot(l,1),l.m(a.parentNode,a))},i(n){r||(ot(l),r=!0)},o(n){nt(l),r=!1},d(n){n&&(f(t),f(a)),c[e].d(n)}}}const ve=s=>s.kadou!==0&&!s.kadou||s.noruma!==0&&!s.noruma;function be(s,t,e){let l,a,r,u,c;pt(s,$t,h=>e(2,a=h)),pt(s,te,h=>e(3,r=h)),pt(s,ee,h=>e(4,u=h)),pt(s,le,h=>e(14,c=h));let o=!0,n,d;Gt(async()=>{e(0,n=parseFloat(localStorage.getItem("target")??"100")),e(1,d=parseFloat(localStorage.getItem("targetHande")??"100")),q(),await Kt(),e(5,o=!1)});let y,L,H,j,Y,S,w;function q(){e(10,Y=l.filter(g=>g.suuji!==0&&!g.suuji).length),e(6,y=l.reduce((g,x)=>g+(x.suuji??0),0)),e(7,L=l.reduce((g,x)=>x.suuji!==0&&!x.suuji?g:g+(x.noruma??0),0));const h=l.reduce((g,x)=>g+(x.noruma??0),0),P=l.reduce((g,x)=>g+(x.kadou??0),0),I=l.reduce((g,x)=>x.suuji!==0&&!x.suuji?g:g+(x.kadou??0),0);e(11,S=n/100*h-y),e(12,w=(d-P*.1)/100*h-y),e(8,H=A(y/L*100)),e(9,j=A(H+I*.1))}const R=h=>h.shukkin&&h.year===r&&h.month===a;function E(h){n=h,e(0,n)}function m(h){d=h,e(1,d)}return s.$$.update=()=>{s.$$.dirty&1&&n&&localStorage.setItem("target",n.toString()),s.$$.dirty&2&&d&&localStorage.setItem("targetHande",d.toString()),s.$$.dirty&28&&e(13,l=u.filter(h=>h.shukkin&&h.year===r&&h.month===a)),s.$$.dirty&7&&q()},[n,d,a,r,u,o,y,L,H,j,Y,S,w,l,c,R,E,m]}class Te extends Pt{constructor(t){super(),Ot(this,t,be,pe,Rt,{})}}export{Te as component};
