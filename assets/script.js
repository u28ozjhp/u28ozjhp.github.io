"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js");const kimigayo=new Audio("/assets/kimigayo.opus"),playKimigayo=()=>kimigayo.paused&&!document.getElementById("hikokumin").checked&&kimigayo.play();kimigayo.loop=!0;const calc=()=>{const e=parseFloat(document.getElementById("target-av").value),t=parseFloat(document.getElementById("noruma-total").value),a=parseFloat(document.getElementById("uriage").value),n=parseFloat(document.getElementById("noruma-remaining").value),o=document.getElementById("result");if(o.value="",isNaN(e)||isNaN(t)||isNaN(a)||isNaN(n))return;let d;if(document.getElementById("hande").checked){const o=parseFloat(document.getElementById("kadou-total").value),i=parseFloat(document.getElementById("kadou-remaining").value);if(isNaN(o)||isNaN(i))return;d=(.01*e-.001*(o+i))*(t+n)-a}else d=.01*e*(t+n)-a;o.value=d<0||0===d?document.getElementById("hikokumin").checked?"ç›®æ¨™é”æˆæ¸ˆ":"ðŸŽŒç›®æ¨™é”æˆæ¸ˆðŸŽŒ":parseFloat(d.toFixed(3))};document.addEventListener("DOMContentLoaded",(()=>{const e=localStorage.getItem("hikokuminLS");!e&&localStorage.setItem("hikokuminLS","false"),document.getElementById("hikokumin").checked="true"===e,document.body.addEventListener("touchstart",playKimigayo),document.body.addEventListener("mousedown",playKimigayo),document.getElementById("calculator").addEventListener("keyup",(()=>calc())),document.getElementById("hande").addEventListener("change",(e=>{document.getElementById("kadou-total").disabled=!e.target.checked,document.getElementById("kadou-remaining").disabled=!e.target.checked,calc()})),document.getElementById("hikokumin").addEventListener("change",(e=>{e.target.checked?kimigayo.pause():kimigayo.play(),document.title=e.target.checked?"è¨ˆç®—æ©Ÿ":"ðŸŽŒæ—¥æœ¬ä¸‡æ­³ðŸŽŒ",localStorage.setItem("hikokuminLS",e.target.checked),calc()})),document.getElementById("share").addEventListener("click",(()=>{navigator.share&&navigator.share({title:"ðŸŽŒæ—¥æœ¬ä¸‡æ­³ðŸŽŒ",text:"æ—¥æœ¬åŒèƒžå›½æ°‘è«¸å›ã¸",url:"https://u28ozjhp.github.io/"})})),(async()=>{const e=(new Date).toISOString().slice(0,10),t=await fetch(`https://holidays-jp.github.io/api/v1/${e.slice(0,4)}/date.json`),a=(await t.json())[e];a&&!a.includes("æŒ¯æ›¿ä¼‘æ—¥")&&document.body.classList.add("ðŸŽŒ")})()}));